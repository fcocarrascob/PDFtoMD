
        <!DOCTYPE html>
        <html>
        <head>
            <meta charset='utf-8'>
            
        <script>
        window.MathJax = {
          tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']],
            displayMath: [['$$','$$'], ['\\[','\\]']]
          },
          options: {
            skipHtmlTags: ['script','noscript','style','textarea','pre','code']
          }
        };
        </script>
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script>
        function rescaleFormulas() {
          const blocks = document.querySelectorAll('.formula-block');
          blocks.forEach(block => {
            const mjx = block.querySelector('mjx-container');
            if (!mjx) return;
            mjx.style.transform = '';
            mjx.style.transformOrigin = 'left top';
            let scale = 1.0;
            const maxWidth = block.clientWidth - 8;
            let loops = 0;
            while (mjx.scrollWidth > maxWidth && scale > 0.65 && loops < 15) {
              scale -= 0.05;
              mjx.style.transform = `scale(${scale})`;
              loops += 1;
            }
            if (scale < 1.0) {
              const rect = mjx.getBoundingClientRect();
              mjx.parentElement.style.minHeight = `${rect.height}px`;
            } else {
              mjx.parentElement.style.minHeight = '';
            }
          });
        }
        document.addEventListener('DOMContentLoaded', () => {
          if (window.MathJax && MathJax.startup) {
            MathJax.startup.promise.then(() => {
              rescaleFormulas();
              window.addEventListener('resize', rescaleFormulas);
            });
          }
        });
        </script>
        
            <style>
                
            @page {
                size: A4;
                margin: 12mm;
            }
            body {
                font-family: Arial, sans-serif;
                padding: 24px;
                background: #eceff4;
                color: #1f1f1f;
                display: flex;
                justify-content: center;
            }
            .page {
                background: #f7f8fa;
                color: #1f1f1f;
                max-width: 210mm;
                min-height: 297mm;
                width: 100%;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
                border: 1px solid #e5e8ee;
                border-radius: 6px;
                padding: 18px;
                box-sizing: border-box;
            }
            .text-block { margin-bottom: 12px; line-height: 1.5; }
            .text-block h1, .text-block h2, .text-block h3, .text-block h4, .text-block h5, .text-block h6 {
                margin: 0 0 8px 0;
                font-weight: 700;
                color: #2a82da;
            }
            .text-block ul, .text-block ol {
                padding-left: 20px;
                margin: 6px 0 12px 0;
            }
            .text-block li { margin-bottom: 4px; }
            .text-block code {
                background: #ffffff;
                border: 1px solid #dbe1ea;
                padding: 2px 4px;
                border-radius: 4px;
                font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
            }
            .formula-block {
                margin-bottom: 16px;
                padding: 12px;
                background: #ffffff;
                border-radius: 6px;
                border: 1px solid #dbe1ea;
            }
            .formula-block.error { border-color: #d9534f; background: #fdecea; }
            .formula-input {
                font-size: 18px;
                margin-bottom: 6px;
                position: relative;
            }
            .formula-result { color: #2a82da; font-weight: bold; }
            .formula-block.error .formula-result { color: #d9534f; }
            .function-table, .variable-table { margin-top: 24px; background: #ffffff; padding: 12px; border-radius: 6px; border: 1px solid #dbe1ea; }
            .function-table h3, .variable-table h3 { margin-top: 0; }
            .function-table table, .variable-table table { width: 100%; border-collapse: collapse; }
            .function-table th, .function-table td, .variable-table th, .variable-table td { padding: 6px 8px; text-align: left; border-bottom: 1px solid #dbe1ea; }
            .function-table th, .variable-table th { color: #1f1f1f; opacity: 0.8; }
            .error-panel, .log-panel { margin-top: 16px; background: #ffffff; padding: 12px; border-radius: 6px; border: 1px solid #dbe1ea; }
            .error-panel h3 { margin-top: 0; color: #d9534f; }
            .log-panel h3 { margin-top: 0; color: #2a82da; }
            .error-panel ul { padding-left: 18px; margin: 8px 0; }
            .error-panel li { margin-bottom: 6px; }
            .log-panel table { width: 100%; border-collapse: collapse; }
            .log-panel th, .log-panel td { padding: 6px 8px; text-align: left; border-bottom: 1px solid #dbe1ea; }
            .log-panel th { color: #1f1f1f; opacity: 0.8; }
            mjx-container {
                max-width: 100%;
                overflow-wrap: anywhere;
            }
            @media (max-width: 900px) {
                .page { padding: 14px; }
                .formula-input { font-size: 16px; }
            }
        
            </style>
        </head>
        <body>
            <div class='page'>
                <div class='text-block' id='block-79c2ecf1f25544788ea51c073f15eeab' data-block-id='79c2ecf1f25544788ea51c073f15eeab'><h1>Ejemplo: pares P-M para columna 30x50 cm con 4 barras</h1>
<p>Se usan units mm y MPa (fuerzas en kN, momentos en kN·m).</p>
</div>
<div class='formula-block' id='block-65b0a60422bb4794862e70807fabab52' data-block-id='65b0a60422bb4794862e70807fabab52'><div class='formula-input'>$$ b = 300.0 $$</div><div class='formula-result'>= 300.00</div></div>
<div class='formula-block' id='block-f99d4df8032d4b6c9077ccf27fed8558' data-block-id='f99d4df8032d4b6c9077ccf27fed8558'><div class='formula-input'>$$ h = 500.0 $$</div><div class='formula-result'>= 500.00</div></div>
<div class='formula-block' id='block-d0195517c1a7402093cc3ad7ece52434' data-block-id='d0195517c1a7402093cc3ad7ece52434'><div class='formula-input'>$$ cover = 40.0 $$</div><div class='formula-result'>= 40.00</div></div>
<div class='formula-block' id='block-05bfa1555cda417aa0336d8d2d36e2db' data-block-id='05bfa1555cda417aa0336d8d2d36e2db'><div class='formula-input'>$$ fc = 28.0 $$</div><div class='formula-result'>= 28.00</div></div>
<div class='formula-block' id='block-b8ecc3f3403a4e4bb31913b22b3b91a9' data-block-id='b8ecc3f3403a4e4bb31913b22b3b91a9'><div class='formula-input'>$$ fy = 420.0 $$</div><div class='formula-result'>= 420.00</div></div>
<div class='formula-block' id='block-0181218149f04b57af989d6f0e19ccdf' data-block-id='0181218149f04b57af989d6f0e19ccdf'><div class='formula-input'>$$ Es = 200000.0 $$</div><div class='formula-result'>= 200000.00</div></div>
<div class='formula-block' id='block-2181f2463c7541e6829bd5c09a886f89' data-block-id='2181f2463c7541e6829bd5c09a886f89'><div class='formula-input'>$$ \beta_{1} = 0.85 $$</div><div class='formula-result'>= 0.85</div></div>
<div class='formula-block' id='block-b187c0ccfe0b417699138df0bff2d5f7' data-block-id='b187c0ccfe0b417699138df0bff2d5f7'><div class='formula-input'>$$ As_{bar} = 200.0 $$</div><div class='formula-result'>= 200.00</div></div>
<div class='formula-block' id='block-fb355ff024db468fbb4fb05f99e72338' data-block-id='fb355ff024db468fbb4fb05f99e72338'><div class='formula-input'>$$ y_{top} = cover $$</div><div class='formula-result'>= 40.00</div></div>
<div class='formula-block' id='block-9ecbc96c3d434a07b6304632e25c682d' data-block-id='9ecbc96c3d434a07b6304632e25c682d'><div class='formula-input'>$$ y_{bottom} = h - cover $$</div><div class='formula-result'>= 460.00</div></div>
<div class='formula-block' id='block-67e93d2e544f4d1da79dd772e6338f56' data-block-id='67e93d2e544f4d1da79dd772e6338f56'><div class='formula-input'>$$ d_{trac} = y_{bottom} $$</div><div class='formula-result'>= 460.00</div></div>
<div class='formula-block' id='block-e38d07f2a94440228a6e4d1b0c118123' data-block-id='e38d07f2a94440228a6e4d1b0c118123'><div class='formula-input'>$$ eps_{s}(y, c) = \frac{0.003 \cdot c - 0.003 \cdot y}{c} $$</div><div class='formula-result'>= Function eps_s(y, c) defined</div></div>
<div class='formula-block' id='block-fb29e515fde04a2ead22b8a710ff909c' data-block-id='fb29e515fde04a2ead22b8a710ff909c'><div class='formula-input'>$$ eps_{t}(c) = \operatorname{eps}_{s}{\left(d_{trac},c \right)} $$</div><div class='formula-result'>= Function eps_t(c) defined</div></div>
<div class='formula-block' id='block-dc4579ff85e94df2a288cb3911226a52' data-block-id='dc4579ff85e94df2a288cb3911226a52'><div class='formula-input'>$$ eps_{t abs}(c) = \left|{\operatorname{eps}_{t}{\left(c \right)}}\right| $$</div><div class='formula-result'>= Function eps_t_abs(c) defined</div></div>
<div class='formula-block' id='block-0e6b14f6e2a64d56930e960c8461c76e' data-block-id='0e6b14f6e2a64d56930e960c8461c76e'><div class='formula-input'>$$ steel_{stress}(eps) = \begin{cases} \begin{cases} fy & \text{for}\: eps \geq 0 \\- fy & \text{otherwise} \end{cases} & \text{for}\: fy \leq \left|{Es \cdot eps}\right| \\Es \cdot eps & \text{otherwise} \end{cases} $$</div><div class='formula-result'>= Function steel_stress(eps) defined</div></div>
<div class='formula-block' id='block-855b9f11615142eeb5cb1a28234f3d1b' data-block-id='855b9f11615142eeb5cb1a28234f3d1b'><div class='formula-input'>$$ steel_{force}(eps) = As_{bar} \cdot \operatorname{steel}_{stress}{\left(eps \right)} $$</div><div class='formula-result'>= Function steel_force(eps) defined</div></div>
<div class='formula-block' id='block-cfc4518416a0478186e2f8a4e10d2c8a' data-block-id='cfc4518416a0478186e2f8a4e10d2c8a'><div class='formula-input'>$$ pmP(c) = \frac{\operatorname{steel}_{force}{\left(\operatorname{eps}_{s}{\left(y_{bottom},c \right)} \right)}}{500} + \frac{\operatorname{steel}_{force}{\left(\operatorname{eps}_{s}{\left(y_{top},c \right)} \right)}}{500} + 0.00085 \cdot b \cdot \beta_{1} \cdot c \cdot fc $$</div><div class='formula-result'>= Function pmP(c) defined</div></div>
<div class='formula-block' id='block-8ec17e45769f4beaaf81b1a620b20fea' data-block-id='8ec17e45769f4beaaf81b1a620b20fea'><div class='formula-input'>$$ pmM(c) = \frac{\left(y_{bottom} - \frac{h}{2}\right) \cdot \operatorname{steel}_{force}{\left(\operatorname{eps}_{s}{\left(y_{bottom},c \right)} \right)}}{500000} + \frac{\left(y_{top} - \frac{h}{2}\right) \cdot \operatorname{steel}_{force}{\left(\operatorname{eps}_{s}{\left(y_{top},c \right)} \right)}}{500000} + 8.5 \cdot 10^{-7} \cdot b \cdot \beta_{1} \cdot c \cdot fc \cdot \left(- \frac{h}{2} + \frac{\beta_{1} \cdot c}{2}\right) $$</div><div class='formula-result'>= Function pmM(c) defined</div></div>
<div class='formula-block' id='block-acbea73b468c4f4f9df27936644580f6' data-block-id='acbea73b468c4f4f9df27936644580f6'><div class='formula-input'>$$ \phi(c) = \begin{cases} 0.65 & \text{for}\: \operatorname{eps}_{t abs}{\left(c \right)} < 0.002 \\\begin{cases} 0.483333333333333 + 83.3333333333333 \cdot \operatorname{eps}_{t abs}{\left(c \right)} & \text{for}\: \operatorname{eps}_{t abs}{\left(c \right)} \leq 0.005 \\0.9 & \text{otherwise} \end{cases} & \text{otherwise} \end{cases} $$</div><div class='formula-result'>= Function phi(c) defined</div></div>
<div class='formula-block' id='block-f68a6bc5273c404d80490c0b674432c1' data-block-id='f68a6bc5273c404d80490c0b674432c1'><div class='formula-input'>$$ c_{vals} = \operatorname{linspace}{\left(40,900,15 \right)} $$</div><div class='formula-result'>= Array (15 values): [40.00, 101.43, 162.86, ...]</div></div>
<div class='formula-block' id='block-42f857c0d08e4097b2a8a039be69ae29' data-block-id='42f857c0d08e4097b2a8a039be69ae29'><div class='formula-input'>$$ P_{vals} = \operatorname{sweep}{\left(\operatorname{pmP},c_{vals} \right)} $$</div><div class='formula-result'>= Array (15 values): [74.76, 592.92, 988.38, ...]</div></div>
<div class='formula-block' id='block-d611c273a419417ba10d798b92199ca9' data-block-id='d611c273a419417ba10d798b92199ca9'><div class='formula-input'>$$ M_{vals} = \operatorname{sweep}{\left(\operatorname{pmM},c_{vals} \right)} $$</div><div class='formula-result'>= Array (15 values): [-91.84, -193.16, -249.24, ...]</div></div>
<div class='formula-block' id='block-76a74cb725134f0ebe8aa17941662acd' data-block-id='76a74cb725134f0ebe8aa17941662acd'><div class='formula-input'>$$ \phi_{vals} = \operatorname{sweep}{\left(\phi,c_{vals} \right)} $$</div><div class='formula-result'>= Array (15 values): [0.90, 0.90, 0.90, ...]</div></div>
<div class='formula-block' id='block-6805543d77d140e3a1621f3a3981a502' data-block-id='6805543d77d140e3a1621f3a3981a502'><div class='formula-input'>$$ pmP_{\phi}(c) = \phi{\left(c \right)} \cdot \operatorname{pmP}{\left(c \right)} $$</div><div class='formula-result'>= Function pmP_phi(c) defined</div></div>
<div class='formula-block' id='block-af2f4b5b1e374f34b8211d34ec947136' data-block-id='af2f4b5b1e374f34b8211d34ec947136'><div class='formula-input'>$$ pmM_{\phi}(c) = \phi{\left(c \right)} \cdot \operatorname{pmM}{\left(c \right)} $$</div><div class='formula-result'>= Function pmM_phi(c) defined</div></div>
<div class='formula-block' id='block-efb947ce36ab443c83d67d71232149cb' data-block-id='efb947ce36ab443c83d67d71232149cb'><div class='formula-input'>$$ P_{\phi} = \operatorname{sweep}{\left(\operatorname{pmP}_{\phi},c_{vals} \right)} $$</div><div class='formula-result'>= Array (15 values): [67.28, 533.63, 889.54, ...]</div></div>
<div class='formula-block' id='block-79598340ee7740df8f96a8dc57bb5da1' data-block-id='79598340ee7740df8f96a8dc57bb5da1'><div class='formula-input'>$$ M_{\phi} = \operatorname{sweep}{\left(\operatorname{pmM}_{\phi},c_{vals} \right)} $$</div><div class='formula-result'>= Array (15 values): [-82.66, -173.84, -224.32, ...]</div></div>
<div class='formula-block' id='block-78620ef626c340ab9ac1553a7de7fc17' data-block-id='78620ef626c340ab9ac1553a7de7fc17'><div class='formula-input'>$$ P_{concentrico} = \frac{As_{bar} \cdot fy}{250} + 0.00085 \cdot b \cdot fc \cdot h $$</div><div class='formula-result'>= 3906.00</div></div>
<div class='text-block' id='block-8ada928d6c1548d1be369a7359ca3a68' data-block-id='8ada928d6c1548d1be369a7359ca3a68'><p>Los arrays <code>P_vals</code> (kN) y <code>M_vals</code> (kN·m) tienen el mismo largo y se emparejan por índice con <code>c_vals</code>. Ej.: para el i-ésimo punto, el par es (P_vals[i], M_vals[i]). Incluye el valor de carga concéntrica <code>P_concentrico</code> (M≈0).</p>
</div>
<div class='function-table'><h3>Functions</h3><table><thead><tr><th>Signature</th><th>Expression</th></tr></thead><tbody><tr><td>eps_s(y, c)</td><td>$$ 0.003 * (c - y) / c $$</td></tr><tr><td>eps_t(c)</td><td>$$ eps_s(d_trac, c) $$</td></tr><tr><td>eps_t_abs(c)</td><td>$$ abs(eps_t(c)) $$</td></tr><tr><td>steel_stress(eps)</td><td>$$ (fy if eps >= 0 else -fy) if abs(Es*eps) >= fy else Es*eps $$</td></tr><tr><td>steel_force(eps)</td><td>$$ steel_stress(eps) * As_bar $$</td></tr><tr><td>pmP(c)</td><td>$$ (0.85*fc*b*beta1*c + steel_force(eps_s(y_top, c)) + steel_force(eps_s(y_top, c)) + steel_force(eps_s(y_bottom, c)) + steel_force(eps_s(y_bottom, c)))/1000 $$</td></tr><tr><td>pmM(c)</td><td>$$ (0.85*fc*b*beta1*c*(beta1*c/2 - h/2) + steel_force(eps_s(y_top, c))*(y_top-h/2) + steel_force(eps_s(y_top, c))*(y_top-h/2) + steel_force(eps_s(y_bottom, c))*(y_bottom-h/2) + steel_force(eps_s(y_bottom, c))*(y_bottom-h/2))/1000000 $$</td></tr><tr><td>phi(c)</td><td>$$ 0.65 if eps_t_abs(c) < 0.002 else (0.65 + (0.25*(eps_t_abs(c)-0.002)/0.003)) if eps_t_abs(c) <= 0.005 else 0.9 $$</td></tr><tr><td>pmP_phi(c)</td><td>$$ phi(c) * pmP(c) $$</td></tr><tr><td>pmM_phi(c)</td><td>$$ phi(c) * pmM(c) $$</td></tr></tbody></table></div>
<div class='variable-table'><h3>Arrays</h3><table><thead><tr><th>Name</th><th>Expression</th><th>Values</th></tr></thead><tbody><tr><td>c_vals</td><td>$$ linspace(40, 900, 15) $$</td><td>40.00, 101.43, 162.86, 224.29, 285.71, ..., 838.57, 900.00</td></tr><tr><td>P_vals</td><td>$$ sweep(pmP, c_vals) $$</td><td>74.76, 592.92, 988.38, 1361.19, 1755.60, ..., 5365.64, 5747.43</td></tr><tr><td>M_vals</td><td>$$ sweep(pmM, c_vals) $$</td><td>-91.84, -193.16, -249.24, -281.11, -288.97, ..., 528.94, 713.09</td></tr><tr><td>phi_vals</td><td>$$ sweep(phi, c_vals) $$</td><td>0.90, 0.90, 0.90, 0.75, 0.65, ..., 0.65, 0.65</td></tr><tr><td>P_phi</td><td>$$ sweep(pmP_phi, c_vals) $$</td><td>67.28, 533.63, 889.54, 1015.55, 1141.14, ..., 3487.66, 3735.83</td></tr><tr><td>M_phi</td><td>$$ sweep(pmM_phi, c_vals) $$</td><td>-82.66, -173.84, -224.32, -209.73, -187.83, ..., 343.81, 463.51</td></tr></tbody></table></div>
<div class='variable-table'><h3>Variables</h3><table><thead><tr><th>Name</th><th>Expression</th><th>Value</th></tr></thead><tbody><tr><td>b</td><td>$$ 300.0 $$</td><td>300.00</td></tr><tr><td>h</td><td>$$ 500.0 $$</td><td>500.00</td></tr><tr><td>cover</td><td>$$ 40.0 $$</td><td>40.00</td></tr><tr><td>fc</td><td>$$ 28.0 $$</td><td>28.00</td></tr><tr><td>fy</td><td>$$ 420.0 $$</td><td>420.00</td></tr><tr><td>Es</td><td>$$ 200000.0 $$</td><td>200000.00</td></tr><tr><td>beta1</td><td>$$ 0.85 $$</td><td>0.85</td></tr><tr><td>As_bar</td><td>$$ 200.0 $$</td><td>200.00</td></tr><tr><td>y_top</td><td>$$ cover $$</td><td>40.00</td></tr><tr><td>y_bottom</td><td>$$ h - cover $$</td><td>460.00</td></tr><tr><td>d_trac</td><td>$$ y_{bottom} $$</td><td>460.00</td></tr><tr><td>c_vals</td><td>$$ \operatorname{linspace}{\left(40,900,15 \right)} $$</td><td></td></tr><tr><td>P_vals</td><td>$$ \operatorname{sweep}{\left(\operatorname{pmP},c_{vals} \right)} $$</td><td></td></tr><tr><td>M_vals</td><td>$$ \operatorname{sweep}{\left(\operatorname{pmM},c_{vals} \right)} $$</td><td></td></tr><tr><td>phi_vals</td><td>$$ \operatorname{sweep}{\left(\phi,c_{vals} \right)} $$</td><td></td></tr><tr><td>P_phi</td><td>$$ \operatorname{sweep}{\left(\operatorname{pmP}_{\phi},c_{vals} \right)} $$</td><td></td></tr><tr><td>M_phi</td><td>$$ \operatorname{sweep}{\left(\operatorname{pmM}_{\phi},c_{vals} \right)} $$</td><td></td></tr><tr><td>P_concentrico</td><td>$$ \frac{As_{bar} \cdot fy}{250} + 0.00085 \cdot b \cdot fc \cdot h $$</td><td>3906.00</td></tr></tbody></table></div>
            </div>
        </body>
        </html>
        